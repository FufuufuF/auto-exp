# 文件组织规则

## 目录结构说明

本项目有明确的目录结构，每个目录都有特定的用途。严格遵循目录规范可以确保项目的清晰和可维护性。

## 各目录详细说明

### background/ - 实验背景资料目录

**用途**：存放实验的背景信息、理论知识、参考资料等

**内容来源**：
- 用户提供的 PDF、Word、PPT 等文档
- 课程讲义、教材章节、知识点总结

**子目录**：
- `background/cursor/`：存放整理后的 markdown 格式资料

**文件命名规范**：
- 原始文件：保持用户提供的原始文件名
- markdown 文件：与原始文件名对应，扩展名改为 `.md`
  - 例如：`理论知识.pdf` → `理论知识.md`

**整理要求**：
- 每个原始文件对应一个 markdown 文件
- markdown 文件应包含完整的知识点
- 使用清晰的标题层级
- 代码示例使用代码块格式

### experiment_report/ - 实验报告目录

**用途**：存放实验报告模板和实验任务描述

**内容来源**：
- 用户提供的实验报告模板文档
- 实验任务要求文档

**子目录**：
- `experiment_report/cursor/`：存放整理后的 markdown 格式文件

**文件命名规范**：
- 原始文件：保持用户提供的原始文件名
- markdown 文件：根据内容类型命名
  - 模板文件：`实验报告模板.md`、`报告格式要求.md`
  - 任务文件：`实验任务.md`、`任务清单.md`
  - 如果模板和任务在一个文件中：`实验报告与任务.md`

**整理要求**：
- 清晰区分模板部分和任务部分
- 提取报告的章节结构
- 标注必填项和可选项
- 标注需要截图的位置
- 列出所有实验任务

### exp/src/ - 实验代码目录

**用途**：存放完成实验任务编写的代码

**内容来源**：
- 你根据实验任务编写的代码

**文件组织原则**：
1. **按任务组织**：
   - 如果有多个独立任务，每个任务一个文件或子目录
   - 例如：`task1.py`、`task2.py`
   
2. **按功能模块组织**：
   - 如果任务相关性强，可按功能划分
   - 例如：`data_processing.py`、`algorithm.py`、`main.py`

3. **复杂项目组织**：
   ```
   exp/src/
   ├── task1/
   │   ├── main.py
   │   └── utils.py
   ├── task2/
   │   └── algorithm.py
   └── common/
       └── helper.py
   ```

**代码文件规范**：
- 文件名使用小写字母和下划线
- 每个文件开头添加文档注释：
  ```python
  """
  实验任务：XXX
  功能描述：XXX
  作者：AI Assistant
  日期：YYYY-MM-DD
  """
  ```
- 代码添加必要的注释
- 函数和类使用文档字符串

### src/ - 工具代码目录

**用途**：存放项目的工具类和辅助函数

**内容来源**：
- 项目现有的工具代码（如 `micorsoft_office_reader.py`）
- 不要在此目录存放实验代码

**注意事项**：
- 这是项目基础设施代码，不是实验代码
- 实验代码应放在 `exp/src/` 目录
- 除非特殊情况，不要修改此目录的文件

### mcp/ - MCP 工具目录

**用途**：存放 MCP 服务器实现代码

**内容**：
- `richtext_reader.py`：富文本读取工具

**注意事项**：
- 这是工具代码，不要修改
- 如果需要扩展 MCP 功能，在此目录添加新文件

### rules/ - 规则文件目录

**用途**：存放项目的规则和指南文档

**内容**：
- 各种 `.mdc` 规则文件

**注意事项**：
- 这些文件是给 AI 助手参考的规则
- 用户也可以阅读了解项目工作方式

## 生成文件的位置规范

### 整理的 markdown 文件

| 原始位置 | 整理后位置 | 说明 |
|---------|----------|------|
| `background/*.pdf` | `background/cursor/*.md` | 背景资料的 markdown 版本 |
| `background/*.docx` | `background/cursor/*.md` | 背景资料的 markdown 版本 |
| `background/*.pptx` | `background/cursor/*.md` | 背景资料的 markdown 版本 |
| `experiment_report/*.pdf` | `experiment_report/cursor/*.md` | 报告模板和任务的 markdown 版本 |
| `experiment_report/*.docx` | `experiment_report/cursor/*.md` | 报告模板和任务的 markdown 版本 |

### 实验代码文件

- **存放位置**：`exp/src/`
- **文件类型**：根据任务要求，可能是 Python、Java、C++ 等
- **组织方式**：根据任务数量和复杂度决定

### 实验报告文件

**位置选择**：根据模板要求决定
1. 如果模板要求 Word 格式：生成 `.docx` 文件
2. 如果没有格式要求：生成 `.md` 文件（推荐）
3. 存放在项目根目录或 `exp/` 目录

**文件命名**：
- `实验报告.md` 或 `实验报告.docx`
- 如果有多个实验：`实验1报告.md`、`实验2报告.md`

## 文件引用规范

### 在报告中引用代码

**方式 1：代码块**（推荐）
```markdown
### 实验代码

```python
# 代码内容
def main():
    print("Hello")
\```
```

**方式 2：文件引用**
```markdown
### 实验代码

完整代码见：`exp/src/task1.py`
```

### 在代码中引用资料

在代码注释中可以引用背景资料：
```python
"""
算法实现参考：background/cursor/理论知识.md 第3章
"""
```

## 临时文件管理

### 临时文件规则

- **避免创建**：尽量不创建临时文件
- **如果必须**：使用 `.tmp` 扩展名，放在项目根目录
- **及时清理**：任务完成后删除临时文件

### 不应该创建的文件

- 中间结果文件（除非实验要求）
- 日志文件（除非实验要求）
- 测试文件（除非是实验的一部分）

## 文件完整性检查

### 完成任务后的检查清单

- [ ] `background/cursor/` 目录有所有背景资料的 markdown 文件
- [ ] `experiment_report/cursor/` 目录有模板和任务的 markdown 文件
- [ ] `exp/src/` 目录有所有实验任务的代码文件
- [ ] 实验报告文件已生成
- [ ] 没有遗留临时文件
- [ ] 所有文件命名规范
- [ ] 所有代码文件有适当的注释

## 特殊情况处理

### 情况 1：用户提供的文件不在标准目录

**处理方式**：
1. 询问用户文件用途（背景资料还是实验任务）
2. 读取并整理内容
3. 保存到对应的标准目录

### 情况 2：实验要求生成特殊格式文件

**处理方式**：
1. 按照实验要求生成文件
2. 在报告中说明文件位置
3. 确保文件命名清晰

### 情况 3：代码需要配置文件

**处理方式**：
1. 配置文件与代码放在同一目录
2. 使用常见的配置文件名（如 `config.json`、`settings.ini`）
3. 在代码注释中说明配置文件的作用

### 情况 4：实验需要数据文件

**处理方式**：
1. 小数据文件：放在 `exp/src/data/` 目录
2. 大数据文件：放在项目根目录，在 `.gitignore` 中排除
3. 在报告中说明数据文件来源和位置
